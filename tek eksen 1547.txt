#include <Wire.h>
#include <ADXL345.h>

ADXL345 accelerometer;
unsigned long START;
void setup(void)
{
  Serial.begin(9600);
  Wire.write(0x2D); // talk to POWER_CTL Register - 0x2D
  // Enable measurement
  Wire.write(8); //8 dec buyuk ise high for measuring enable
  
  
  if (!accelerometer.begin())
  {
    Serial.println("Could not find a valid ADXL345 sensor, check wiring!");
    delay(500);
  }
  START = millis();
}

void loop(void)
{
  // Read raw values
  if (millis() - START < 30000)
  {
    Vector raw = accelerometer.readRaw();
    
    Serial.print (',');
    Serial.println(raw.XAxis);
    
    
     delay(17.92);
  }
}